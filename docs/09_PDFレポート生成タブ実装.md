# 09_PDFレポート生成タブ実装

**Phase**: Phase 4 (Week 3)

## 概要
`app.py` のPDFレポート生成タブにUI、レポート生成処理、ダウンロード機能を実装します。

## タスク
- [ ] レポート設定UIセクション
  - [ ] レポートタイトル入力（`st.text_input`）
  - [ ] 含めるグラフ選択（`st.multiselect`）
    - [ ] 売上推移
    - [ ] 商品ランキング
    - [ ] 顧客分析
    - [ ] 前年同月比較
    - [ ] 地域別売上
    - [ ] カテゴリ別構成
    - [ ] 利益率分析
  - [ ] 含めるデータ期間選択（`st.date_input`）
  - [ ] Top Nランキング件数（`st.number_input`）
  - [ ] 「レポートを生成」ボタン
- [ ] レポート生成処理
  - [ ] データフィルタリング（選択期間）
  - [ ] 選択されたグラフの生成
  - [ ] KPI計算（総売上、利益、利益率等）
  - [ ] 自動所見生成
    - [ ] 売上トレンド（増加/減少）
    - [ ] トップ商品
    - [ ] トップ顧客
    - [ ] 地域別傾向
  - [ ] `ModernPDFReport` インスタンス作成
  - [ ] 各セクション追加（`st.spinner` でローディング表示）
    - [ ] サマリーセクション
    - [ ] グラフセクション（選択されたもの）
    - [ ] テーブルセクション（Top10商品、Top10顧客）
    - [ ] 所見セクション
  - [ ] PDF保存（`outputs/reports/`）
  - [ ] セッションステートに保存
- [ ] レポートプレビューセクション
  - [ ] 生成済みレポート情報表示
    - [ ] ファイル名
    - [ ] ファイルサイズ
    - [ ] 生成日時
- [ ] ダウンロードセクション
  - [ ] `st.download_button` でPDFダウンロード
  - [ ] ファイル名は日時付き（例: `sales_report_2024-01-15.pdf`）
- [ ] 過去レポート一覧
  - [ ] `outputs/reports/` 内のファイル一覧表示
  - [ ] 各ファイルのダウンロードボタン

## 実装メモ
- レポート生成はプログレスバーで進捗表示
- ダウンロードボタンの実装:
  ```python
  with open(pdf_path, 'rb') as f:
      st.download_button(
          label="📥 PDFをダウンロード",
          data=f,
          file_name=f"sales_report_{datetime.now().strftime('%Y%m%d')}.pdf",
          mime="application/pdf"
      )
  ```
