# 04_グラフ可視化モジュール

**Phase**: Phase 2 (Week 2)

## 概要
7種類のPlotlyグラフを生成する `src/visualizer.py` モジュールを実装します。各グラフはインタラクティブで、統一されたデザインテンプレートを使用します。

## タスク
- [ ] `src/visualizer.py` 作成
- [ ] 共通設定定義
  - [ ] カラースキーム定義（COLORS辞書）
  - [ ] 共通レイアウト設定関数 `apply_common_layout(fig)`
- [ ] `plot_sales_trend(df, period='daily')` 実装
  - [ ] 期間オプション: 'daily', 'monthly', 'yearly'
  - [ ] 日付でグルーピング・集計
  - [ ] 折れ線グラフ（`px.line`）
  - [ ] ホバー情報カスタマイズ
- [ ] `plot_product_ranking(df, top_n=10)` 実装
  - [ ] 商品別売上集計
  - [ ] 上位N件抽出
  - [ ] 横棒グラフ（`px.bar` with `orientation='h'`）
  - [ ] 降順ソート
- [ ] `plot_customer_analysis(df)` 実装
  - [ ] 顧客別売上・利益集計
  - [ ] 散布図（`px.scatter`）
  - [ ] バブルサイズは注文数
  - [ ] 色分けはセグメント
- [ ] `plot_yoy_comparison(df)` 実装
  - [ ] 年別・月別集計
  - [ ] 前年同月比計算
  - [ ] グループ化棒グラフ（`px.bar` with `barmode='group'`）
- [ ] `plot_regional_sales(df)` 実装
  - [ ] 地域別売上集計
  - [ ] 円グラフ（`px.pie`）
  - [ ] パーセンテージ表示
- [ ] `plot_category_breakdown(df)` 実装
  - [ ] カテゴリ別・期間別集計
  - [ ] 積み上げ棒グラフ（`px.bar` with `barmode='stack'`）
- [ ] `plot_profit_margin(df)` 実装
  - [ ] 商品別売上・利益率計算
  - [ ] 散布図（`px.scatter`）
  - [ ] 利益率でカラーマップ

## 実装メモ
- 共通レイアウト設定例:
  ```python
  def apply_common_layout(fig, title):
      fig.update_layout(
          template='plotly_white',
          hovermode='x unified',
          showlegend=True,
          height=400,
          title_font_size=16,
          title_text=title
      )
      return fig
  ```
- 日本語ラベルは `update_xaxes`, `update_yaxes` で設定
- カラーパレットは `color_discrete_sequence` で統一
