# 06_売上予測モジュール

**Phase**: Phase 3 (Week 2-3)

## 概要
線形回帰を使った売上予測機能を実装する `src/predictor.py` モジュールを作成します。時系列データの前処理、モデル訓練、将来予測、精度評価を含みます。

## タスク
- [ ] `src/predictor.py` 作成
- [ ] `SalesPredictor` クラス実装
  - [ ] `__init__` メソッド
    - [ ] LinearRegressionモデル初期化
    - [ ] 内部変数定義（scaler, date_origin等）
  - [ ] `prepare_data(df)` メソッド
    - [ ] 日付を数値に変換（起点日からの経過日数）
    - [ ] 日次売上に集計
    - [ ] 欠損日の補完（0または線形補間）
    - [ ] 特徴量作成（曜日、月、四半期等）
  - [ ] `train(X, y)` メソッド
    - [ ] 訓練データでモデル学習
    - [ ] 学習済みフラグ設定
    - [ ] 学習メトリクス記録
  - [ ] `predict(periods)` メソッド
    - [ ] 将来日付生成（periods日分）
    - [ ] 日付を数値に変換
    - [ ] モデルで予測実行
    - [ ] 予測結果をDataFrameで返す
  - [ ] `evaluate(y_true, y_pred)` メソッド
    - [ ] RMSE計算
    - [ ] MAE計算
    - [ ] R²スコア計算
    - [ ] 評価指標を辞書で返す
- [ ] ヘルパー関数実装
  - [ ] `date_to_numeric(dates, origin)`: 日付→数値変換
  - [ ] `create_features(df)`: 特徴量エンジニアリング

## 実装メモ
- 日付の数値化例:
  ```python
  def date_to_numeric(dates, origin):
      return (dates - origin).dt.days
  ```
- 特徴量は曜日（0-6）、月（1-12）、四半期（1-4）などを追加
- 訓練/テスト分割は時系列を考慮（最後の20%をテストデータ）
- 予測期間オプション: 30日（翌月）、90日（3ヶ月）、180日（半年）、365日（1年）
